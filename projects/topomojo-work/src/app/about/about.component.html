<!-- Copyright 2021 Carnegie Mellon University. -->
<!-- Released under a 3 Clause BSD-style license. See LICENSE.md in the project root. -->

<div class="container my-4">
  <header class="mb-4">
    <h1 class="mb-1">TopoMojo</h1>
    <p class="text-muted mb-0">
      Cybersecurity training labs and exercises in isolated, secure virtual environments.
    </p>
    <div class="small text-muted mt-2">
      Versions: UI {{ uiVersion }}, API {{ apiVersion }}
    </div>
  </header>

  <div class="row">
    <main
      class="col-12"
      [class.col-lg-8]="showResources || !!versionError"
      [class.col-lg-12]="!(showResources || !!versionError)">
      <section class="mb-4">
        <h3 class="h5">About</h3>
        <p class="mb-2">
          TopoMojo is a web application for creating and delivering cybersecurity training labs and exercises.
          Users can build and deploy labs in an isolated and secure virtual-machine environment.
        </p>
        <p class="mb-2">
          Topologies are designed to feel like real systems, with realistic connectivity and networking behavior.
          Network simulations can incorporate IP/Ethernet as well as custom protocol solutions such as 802.11
          wireless packet simulation.
        </p>
        <p class="mb-0">
          New topologies can be rapidly deployed from templates or built from the ground up using user-provided
          ISO images and VM specifications.
        </p>
      </section>

      <hr class="my-4" />
      <section class="mb-4">
        <h3 class="h5">Workspace and Gamespace</h3>

        <p class="mb-2">
          In a <strong>workspace</strong>, engineers add VMs, save updates, author guides, and configure questions/answers to turn the
          topology into a lab or challenge.
        </p>

        <p class="mb-2">
          Users play through a lab in a <strong>gamespace</strong>. Users get their own, isolated, read-only copies of all resources in the workspace.
          Players in a gamespace can interact with VMs and answer questions to complete the lab, but they cannot save changes
          to the environment.
        </p>
      </section>

      <section class="mb-4">
        <h3 class="h5">Hotkeys</h3>

        <div class="table-responsive">
          <table class="table table-sm table-bordered mb-0">
            <thead>
              <tr>
                <th scope="col" style="width: 9rem;">Group</th>
                <th scope="col" style="width: 7rem;">Key</th>
                <th scope="col">Action</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="align-middle" rowspan="3">General</td>
                <td><strong>Ctrl-O</strong></td>
                <td>Open workspace</td>
              </tr>
              <tr>
                <td><strong>Ctrl-L</strong></td>
                <td>Toggle left panel</td>
              </tr>
              <tr>
                <td><strong>Ctrl-H</strong></td>
                <td>Navigate home</td>
              </tr>

              <tr>
                <td class="align-middle" rowspan="6">Workspace</td>
                <td><strong>Ctrl-1</strong></td>
                <td>Workspace settings</td>
              </tr>
              <tr>
                <td><strong>Ctrl-2</strong></td>
                <td>Workspace templates</td>
              </tr>
              <tr>
                <td><strong>Ctrl-3</strong></td>
                <td>Workspace document</td>
              </tr>
              <tr>
                <td><strong>Ctrl-4</strong></td>
                <td>Workspace challenge</td>
              </tr>
              <tr>
                <td><strong>Ctrl-5</strong></td>
                <td>Workspace files</td>
              </tr>
              <tr>
                <td><strong>Ctrl-6</strong></td>
                <td>Play workspace</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="mb-4">
        <h3 class="h5">License</h3>
        <p class="mb-2">Â© 2025 Carnegie Mellon University. All Rights Reserved.</p>
        <p class="mb-2">
          Redistribution and use in source and binary forms, with or without modification, are permitted provided
          that certain conditions are met. See the full license for details and disclaimers.
        </p>

        <a *ngIf="!disableExternalLinks && links.license"
          [href]="links.license" target="_blank" rel="noopener noreferrer">
          View full license
        </a>
      </section>
    </main>

    <aside *ngIf="showResources || !!versionError" class="col-12 col-lg-4">
      <div class="sticky-top" style="top: 1rem;">
        <section *ngIf="showResources" class="mb-4">
          <h3 class="h6 text-uppercase text-muted mb-2">Resources</h3>
          <ul class="list-unstyled mb-0">

            <li class="mb-2" *ngIf="links.repo">
              <a [href]="links.repo" target="_blank" rel="noopener noreferrer">
                Source code (GitHub)
              </a>
            </li>

            <li class="mb-2" *ngIf="links.docs">
              <a [href]="links.docs" target="_blank" rel="noopener noreferrer">
                Documentation
              </a>
            </li>

            <li *ngIf="links.license">
              <a [href]="links.license" target="_blank" rel="noopener noreferrer">
                License
              </a>
            </li>

          </ul>
        </section>
        <section *ngIf="versionError" class="mb-4">
          <app-error-div *ngIf="versionError">{{ versionError }}</app-error-div>
        </section>
      </div>
    </aside>
  </div>
</div>
